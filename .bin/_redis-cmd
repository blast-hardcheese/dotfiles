#!/bin/sh

REDISCLI_ARGS=()

if [ -n "$REDISCLI_HOST" ]; then
  REDISCLI_ARGS=( "${REDISCLI_ARGS[@]}" -h "$REDISCLI_HOST" )
fi
if [ -n "$REDISCLI_PORT" ]; then
  REDISCLI_ARGS=( "${REDISCLI_ARGS[@]}" -p "$REDISCLI_PORT" )
fi
if [ -n "$REDISCLI_AUTH" ]; then
  REDISCLI_ARGS=( "${REDISCLI_ARGS[@]}" -u "$REDISCLI_AUTH" )
fi

file=$(basename "$0")
redis-cli "${REDISCLI_ARGS[@]}" ${file#redis-} "$@" | cat -
